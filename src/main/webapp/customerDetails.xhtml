<?xml version="1.0" encoding="UTF-8"?>
<ui:composition template="template.xhtml" 
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core">
    <ui:define name="header">
        <ui:include src="header.xhtml">
            <ui:param name="pageTitle" value="#{texts.customerDetailsPageTitle}" />
        </ui:include>
    </ui:define>
    <ui:define name="content">
	<p/>
        <h:form id="registerForm">
            <h:panelGrid columns="2">
                <h:outputText value="#{texts.firstname}" />
                <h:inputText value="#{loginBean.customer.firstName}" size="30" />
                <h:outputText value="#{texts.lastname}" />
                <h:inputText value="#{loginBean.customer.lastName}" size="30" />
                <h:outputText value="#{texts.email}" />
                <h:inputText value="#{loginBean.customer.email}" size="30" />
                <h:outputText value="#{texts.password}" />
		<h:inputText value="#{loginBean.customer.password}" size="30" />
            </h:panelGrid>

	    <p/>
	    <h:outputText value="#{texts.address}" styleClass="subheading"/>
	    <h:panelGrid columns="2">
                <h:outputText value="#{texts.street}" />
                <h:inputText value="#{loginBean.customer.address.street}" size="30" />
                <h:outputText value="#{texts.city}" />
                <h:inputText value="#{loginBean.customer.address.city}" size="30" />
                <h:outputText value="#{texts.postalCode}" />
                <h:inputText value="#{loginBean.customer.address.postalCode}" size="5" />
                <h:outputText value="#{texts.country}" />
		<h:selectOneMenu value="#{loginBean.customer.address.country}">
		    <f:selectItems value="#{countryBean.countries}" var="country" 
				   itemLabel="#{country.name}" itemValue="#{country.code}" />
		</h:selectOneMenu>
            </h:panelGrid>

	    <p/>
	    <h:outputText value="#{texts.creditCard}" styleClass="subheading"/>
	    <h:panelGrid columns="2">
                <h:outputText value="#{texts.cardType}" />
		<h:selectOneMenu value="#{loginBean.customer.creditCard.type}">
		    <f:selectItem itemLabel="" itemValue="" />
		    <f:selectItem itemLabel="Mastercard" itemValue="MasterCard" />
		    <f:selectItem itemLabel="Visa" itemValue="Visa" />
		</h:selectOneMenu>
                <h:outputText value="#{texts.cardNumber}" />
		<h:panelGroup>
		    <h:inputText id="creditCardNumber" value="#{loginBean.customer.creditCard.number}" size="20">
			<f:validator validatorId="org.books.converter.CreditCardNumberValidator" />
			<f:converter converterId="org.books.converter.CreditCardNumberConverter" />
		    </h:inputText>
		    <h:message for="creditCardNumber" errorClass="error" showSummary="true" showDetail="false" />
		</h:panelGroup>
                <h:outputText value="#{texts.cardValidTo}" />
		<h:panelGroup>
		    <h:inputText value="#{loginBean.customer.creditCard.expirationMonth}" size="1" maxlength="2" />
		    /
		    <h:inputText value="#{loginBean.customer.creditCard.expirationYear}" size="1" maxlength="2" />
		</h:panelGroup>
            </h:panelGrid>
	    <p/>
	    <h:messages showSummary="true" showDetail="false" errorClass="error" infoClass="info" layout="table" globalOnly="true" />
	    <p/>
	    <h:commandButton value="#{texts.btnSave}" />
	    <h:outputText value=" " />
	    <h:commandButton value="#{texts.cancel}" action="#{navigationBean.goBack()}" immediate="true" />
        </h:form>
    </ui:define>
</ui:composition>
